


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Developer’s corner &mdash; enaml 0.1alpha documentation</title>
    
    <link rel="stylesheet" href="../_static/enthought_doc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/et.ico"/>
    <link rel="top" title="enaml 0.1alpha documentation" href="../index.html" />
    <link rel="up" title="Developer’s Guide" href="index.html" />
    <link rel="next" title="Enaml Testing" href="enaml.tests.html" />
    <link rel="prev" title="Developer’s Guide" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="enaml.tests.html" title="Enaml Testing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Developer’s Guide"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">enaml 0.1alpha documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Developer&#8217;s Guide</a> &raquo;</li>
  
    <li><a href="#">Developer&#8217;s corner</a></li>
  

      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/e-logo-rev.png" alt="Logo"/>
            </a></p>
<h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Developer&#8217;s corner</a><ul>
<li><a class="reference internal" href="#github-branches">GitHub Branches</a></li>
<li><a class="reference internal" href="#sphinx-source">Sphinx Source</a></li>
<li><a class="reference internal" href="#source-code">Source Code</a><ul>
<li><a class="reference internal" href="#preamble">Preamble</a></li>
<li><a class="reference internal" href="#docstrings">Docstrings</a><ul>
<li><a class="reference internal" href="#traits-classes">Traits classes</a></li>
<li><a class="reference internal" href="#functions">Functions</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/developer_guide/developers_corner.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="developer-s-corner">
<h1>Developer&#8217;s corner<a class="headerlink" href="#developer-s-corner" title="Permalink to this headline">¶</a></h1>
<p>This section describes a set of guidelines for the developers of the Enaml.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The content of this section is currently under discussion and
the guidelines are only suggestions.</p>
</div>
<div class="section" id="github-branches">
<h2>GitHub Branches<a class="headerlink" href="#github-branches" title="Permalink to this headline">¶</a></h2>
<p>The following table provides a summary of the main developing branches and
their purpose</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Label</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">master</span></tt></td>
<td>main stable branch</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">develop</span></tt></td>
<td>developing branch (unstable)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="sphinx-source">
<h2>Sphinx Source<a class="headerlink" href="#sphinx-source" title="Permalink to this headline">¶</a></h2>
<p>For Sphinx source, please use 4 spaces for indention and a UTF-8 encoding.
The line length is preferred to be between 72-74 characters.</p>
<p>Due to the magic under the hood of the traits objects, automatically
extracting documentation from the source with the standard autodoc tools
is a little tricky. Enaml&#8217;s Sphinx source should therefore use the following
conventions:</p>
<blockquote>
<div><ul class="simple">
<li>When documenting classes with Traits the sphinx directive
<tt class="docutils literal"><span class="pre">..</span> <span class="pre">autoattribute::</span></tt> does not work. To document single attributes
use the (undocumented) <tt class="docutils literal"><span class="pre">..</span> <span class="pre">autoattributeinstance::</span></tt>  directive
instead.</li>
<li>The <tt class="docutils literal"><span class="pre">..autoclass::</span></tt> directive works fine as long as specific
members are not specified in the <tt class="docutils literal"><span class="pre">:members:</span></tt> context parameter.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="source-code">
<h2>Source Code<a class="headerlink" href="#source-code" title="Permalink to this headline">¶</a></h2>
<p>The coding style follows the <a class="reference external" href="http://www.python.org/dev/peps/pep-0008/">PEP 8</a>
guidelines and uses 4 spaces for indention. The maximum line length is 80
characters; however, the documentation is preferred to be between 72-74
characters.</p>
<div class="section" id="preamble">
<h3>Preamble<a class="headerlink" href="#preamble" title="Permalink to this headline">¶</a></h3>
<p>The preamble of each file contains copyright notice. The following example
can be used as a template</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#------------------------------------------------------------------------------</span>
<span class="c">#  Copyright (c) 2011, Enthought, Inc.</span>
<span class="c">#  All rights reserved.</span>
<span class="c">#------------------------------------------------------------------------------</span>
</pre></div>
</div>
</div>
<div class="section" id="docstrings">
<h3>Docstrings<a class="headerlink" href="#docstrings" title="Permalink to this headline">¶</a></h3>
<p>The current documentation uses the autodoc extension of the Sphinx
distribution. The autodoc parsing is also extended to convert heading-based
docstring descriptions to standard reStructedText role directives.</p>
<div class="section" id="traits-classes">
<h4>Traits classes<a class="headerlink" href="#traits-classes" title="Permalink to this headline">¶</a></h4>
<p>In order to create autodoc-friendly docstrings for classes that inherit
from <cite>traits.HasTraits</cite>, please consider the following:</p>
<blockquote>
<div><ul>
<li><p class="first">Avoid placing headings (except those that are described below) in
the multi-line docstrings since they are not rendered properly by
Sphinx.</p>
</li>
<li><p class="first">Document the class attributes using one or multiple lines commented
with <tt class="docutils literal"><span class="pre">#:</span></tt> before (i.e. above) the attribute definition. These will
be picked up by the autodoc commands and used as the docstring for
the following value:</p>
<div class="highlight-python"><pre>&lt;other code&gt;

# this comment will not appear since it lacks the ':'
#: The file name of the .qbc file to load
filename = File</pre>
</div>
</li>
<li><p class="first">Alternative you can document the attributes at the main class using
the Attribute heading. The current autodoc extension supports
the following headings for classes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last">Heading</p>
</th>
<th class="head"><p class="first last">Description</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><p class="first last">Methods</p>
</td>
<td><p class="first last">Class methods</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">Attributes</p>
</td>
<td><p class="first last">Set of attributes</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last">Notes</p>
</td>
<td><p class="first last">Useful notes (one paragraph)</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">See Also</p>
</td>
<td><p class="first last">References</p>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div></blockquote>
<p>For example, the Python code</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#------------------------------------------------------------------------------</span>
<span class="c">#  Copyright (c) 2011, Enthought, Inc.</span>
<span class="c">#  All rights reserved.</span>
<span class="c">#------------------------------------------------------------------------------</span>
<span class="kn">from</span> <span class="nn">traits.api</span> <span class="kn">import</span> <span class="n">HasTraits</span><span class="p">,</span> <span class="n">Float</span>


<span class="k">class</span> <span class="nc">Myclass</span><span class="p">(</span><span class="n">HasTraits</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This is a example class</span>

<span class="sd">    It is used to demonstrate the proposed guidelines for documenting traits</span>
<span class="sd">    based classes in an &quot;sphinx-friendly&quot; way.</span>

<span class="sd">    The traits are documented close to their definition by using a special</span>
<span class="sd">    comment ``#:`` prefix.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c">#: The x Float trait (default = 150.0)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="mf">150.0</span><span class="p">)</span>

    <span class="c"># This is a comment autodoc ignores it</span>
    <span class="c">#: The y Float trait (default = 0.0)</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">Otherclass</span><span class="p">(</span><span class="n">HasTraits</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; This is another example class using traits</span>

<span class="sd">    It is used to demonstrate the alternative method for documenting traits</span>
<span class="sd">    based classes in an &quot;sphinx-friendly&quot; way.</span>

<span class="sd">    The traits are documented at the start of the class definition.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    x : Float, default = 150.0</span>
<span class="sd">        The x Float trait</span>

<span class="sd">    y : Float, default = 150.0</span>
<span class="sd">        The y Float trait</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="mf">150.0</span><span class="p">)</span>

    <span class="c"># This is a comment autodoc ignores it</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">Float</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
</pre></div>
</div>
<p>leads to this Sphinx output (using <tt class="docutils literal"><span class="pre">..autoclass::</span></tt>):</p>
<dl class="class">
<dt id="traits_class.Myclass">
<em class="property">class </em><tt class="descclassname">traits_class.</tt><tt class="descname">Myclass</tt><a class="reference internal" href="../_modules/traits_class.html#Myclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#traits_class.Myclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">traits.has_traits.HasTraits</span></tt></p>
<p>This is a example class</p>
<p>It is used to demonstrate the proposed guidelines for documenting traits
based classes in an &#8220;sphinx-friendly&#8221; way.</p>
<p>The traits are documented close to their definition by using a special
comment <tt class="docutils literal"><span class="pre">#:</span></tt> prefix.</p>
</dd></dl>

<dl class="class">
<dt id="traits_class.Otherclass">
<em class="property">class </em><tt class="descclassname">traits_class.</tt><tt class="descname">Otherclass</tt><a class="reference internal" href="../_modules/traits_class.html#Otherclass"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#traits_class.Otherclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">traits.has_traits.HasTraits</span></tt></p>
<p>This is another example class using traits</p>
<p>It is used to demonstrate the alternative method for documenting traits
based classes in an &#8220;sphinx-friendly&#8221; way.</p>
<p>The traits are documented at the start of the class definition.</p>
<dl class="attribute">
<dt id="traits_class.Otherclass.x">
<tt class="descname">x</tt><a class="headerlink" href="#traits_class.Otherclass.x" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(Float, default = 150.0)</em>
The x Float trait</p>
</dd></dl>

<dl class="attribute">
<dt id="traits_class.Otherclass.y">
<tt class="descname">y</tt><a class="headerlink" href="#traits_class.Otherclass.y" title="Permalink to this definition">¶</a></dt>
<dd><p><em>(Float, default = 150.0)</em>
The y Float trait</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<p>In order to create autodoc-friendly docstrings for functions, please consider
the following:</p>
<blockquote>
<div><ul>
<li><p class="first">The current parser extension supports the following headings for
functions:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last">Heading</p>
</th>
<th class="head"><p class="first last">Description</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><p class="first last">Arguments</p>
</td>
<td><p class="first last">Set of function arguments and their usage</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">Returns</p>
</td>
<td><p class="first last">Return values of the function</p>
</td>
</tr>
<tr class="row-even"><td><p class="first last">Raises</p>
</td>
<td><p class="first last">Errors and the cases in which they are raised</p>
</td>
</tr>
<tr class="row-odd"><td><p class="first last">Yields</p>
</td>
<td><p class="first last">Successive results of the generator</p>
</td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">Each section/heading can accept items with one of the following
structures (spaces around <tt class="docutils literal"><span class="pre">:</span></tt> are important):</p>
<div class="highlight-python"><pre>&lt;heading&gt;
---------
&lt;name&gt; : &lt;type&gt;
    &lt;description&gt;

&lt;name&gt; : &lt;type&gt;
    &lt;description&gt;

&lt;name&gt; :
    &lt;description&gt;

&lt;heading&gt;
---------
    &lt;description&gt;</pre>
</div>
<p>The last form is useful when a paragraph is more appropriate than a
an item list.</p>
</li>
<li><p class="first">Empty headings are removed and do not appear in the sphinx
documentation</p>
</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The use of the headings is optional. The developer can use
directly the rst role directives to format the docstrings. However,
using the headings, the dosctring is also readable in interactive
python sessions.</p>
</div>
<div class="section" id="example">
<h5>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h5>
<div class="highlight-python"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;Extract the fields from the docstring</span>

<span class="sd">Parse the fields into tuples of name, type and description in a</span>
<span class="sd">list of strings. The strings are also removed from the list.</span>

<span class="sd">Arguments</span>
<span class="sd">---------</span>
<span class="sd">indent : str, optional</span>
<span class="sd">    the indent argument is used to make sure that only the lines</span>
<span class="sd">    with the same indent are considered when checking for a</span>
<span class="sd">    field header line. The value is used to define the field</span>
<span class="sd">    checking function.</span>

<span class="sd">field_check : function</span>
<span class="sd">    Optional function to use for checking if the next line is a</span>
<span class="sd">    field. The signature of the function is ``foo(line)`` and it</span>
<span class="sd">    should return ``True`` if the line contains a valid field</span>
<span class="sd">    The default function is checking for fields of the following</span>
<span class="sd">    formats::</span>

<span class="sd">        &lt;name&gt; : &lt;type&gt;</span>

<span class="sd">    or::</span>

<span class="sd">        &lt;name&gt; :</span>

<span class="sd">    Where the name has to be one word.</span>

<span class="sd">Returns</span>
<span class="sd">-------</span>
<span class="sd">parameters : list of tuples</span>
<span class="sd">    list of parsed parameter tuples as returned from the</span>
<span class="sd">    :meth:`~BaseDocstring.parse_field` method.</span>

<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
<dl class="method">
<dt id="refactor_doc.FunctionDocstring.extract_fields">
<tt class="descclassname">FunctionDocstring.</tt><tt class="descname">extract_fields</tt><big>(</big><em>indent=''</em>, <em>field_check=None</em><big>)</big><a class="headerlink" href="#refactor_doc.FunctionDocstring.extract_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the fields from the docstring</p>
<p>Parse the fields into tuples of name, type and description in a
list of strings. The strings are also removed from the list.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>indent</strong> (<em>str, optional</em>) &#8211; the indent argument is used to make sure that only the lines
with the same indent are considered when checking for a
field header line. The value is used to define the field
checking function.</li>
<li><strong>field_check</strong> (<em>function</em>) &#8211; <p>Optional function to use for checking if the next line is a
field. The signature of the function is <tt class="docutils literal"><span class="pre">foo(line)</span></tt> and it
should return <tt class="docutils literal"><span class="pre">True</span></tt> if the line contains a valid field
The default function is checking for fields of the following
formats:</p>
<div class="highlight-python"><pre>&lt;name&gt; : &lt;type&gt;</pre>
</div>
<p>or:</p>
<div class="highlight-python"><pre>&lt;name&gt; :</pre>
</div>
<p>Where the name has to be one word.</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>parameters</strong> (list of tuples) - list of parsed parameter tuples as returned from the <tt class="xref py py-meth docutils literal"><span class="pre">parse_field()</span></tt> method.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="enaml.tests.html" title="Enaml Testing"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Developer’s Guide"
             >previous</a> |</li>
        <li><a href="../index.html">enaml 0.1alpha documentation</a> &raquo;</li>
          <li><a href="index.html" >Developer&#8217;s Guide</a> &raquo;</li>
  
    <li><a href="#">Developer&#8217;s corner</a></li>
  

      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Enthought, Inc..
      Last updated on Dec 20, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>