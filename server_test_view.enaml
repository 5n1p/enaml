from enaml.widgets import (
    Window, Html, Container, PushButton, Slider, ComboBox, Notebook, Page, 
    Field, ScrollArea, MainWindow, DockPane, CheckBox, Splitter, ScrollArea
)

from enaml.layout import hbox, vbox, spacer, align
from enaml.validation import RegexValidator


enamldef Main(MainWindow):
    attr model
    initial_size = (1000, 800)
    Container:
        padding = 0
        Notebook:
            Page:
                title << fld.text
                Container:
                    Splitter:
                        id: splitter
                        orientation = 'vertical'
                        Container:
                            Field:
                                id: fld
                                text = 'foo'
                            Field:
                                pass
                            CheckBox:
                                checked := tabs_closable
                        Container:
                            Field:
                                id: fld
                                text = 'foo'
                            Field:
                                pass
                            CheckBox:
                                checked := tabs_closable
                        Container:
                            ScrollArea:
                                Container:
                                    Field:
                                        id: fld
                                        text = 'foo'
                                    Field:
                                        pass
                                    CheckBox:
                                        checked := tabs_closable
                                    Field:
                                        id: fld
                                        text = 'foo'
                                    Field:
                                        pass
                                    CheckBox:
                                        checked := tabs_closable
                                    Field:
                                        id: fld
                                        text = 'foo'
                                    Field:
                                        pass
                                    CheckBox:
                                        checked := tabs_closable
                                    Field:
                                        id: fld
                                        text = 'foo'
                                    Field:
                                        pass
                                    CheckBox:
                                        checked := tabs_closable
                                    Field:
                                        id: fld
                                        text = 'foo'
                                    Field:
                                        pass
                                    CheckBox:
                                        checked := tabs_closable
                                    Field:
                                        id: fld
                                        text = 'foo'
                                    Field:
                                        pass
                                    CheckBox:
                                        checked := tabs_closable
                                    Field:
                                        id: fld
                                        text = 'foo'
                                    Field:
                                        pass
                                    CheckBox:
                                        checked := tabs_closable
                                    Field:
                                        id: fld
                                        text = 'foo'
                                    Field:
                                        pass
                                    CheckBox:
                                        checked := tabs_closable
            Page:
                title = 'foasdfo'
                Container:
                    Field:
                        pass
                    Field:
                        pass
                    Field:
                        pass
            Page:
                title = 'asdffoo'
                Container:
                    Field:
                        pass
                    Field:
                        pass
                    Field:
                        pass
            Page:
                title = 'foasdfo'
                Container:
                    Field:
                        pass
                    Field:
                        pass
                    Field:
                        pass
    DockPane:
        id: dp
        title << 'drag me | ' + dock_area + (' (floating)' if floating else '')
        visible = False
        Container:
            Field:
                pass
            Field:
                pass
            Field:
                pass
            Field:
                pass
            PushButton:
                clicked ::
                    if splitter.orientation == 'vertical':
                        splitter.orientation = 'horizontal'
                    else:
                        splitter.orientation = 'vertical'
    DockPane:
        title = 'asdfoo'
        dock_area = 'right'
        allowed_dock_areas = ['left', 'top']
        Container:
            Field:
                pass
            Field:
                pass
            Field:
                pass
            Field:
                pass
            Field:
                pass
            PushButton:
                text = 'Open'
                clicked :: dp.open()
            PushButton:
                text = 'Close'
                clicked :: dp.close()
            CheckBox:
                text = 'visible'
                checked := dp.visible
            CheckBox:
                text = 'floating'
                checked := dp.floating
            ComboBox:
                items = ['left', 'right', 'top', 'bottom']
                index << items.index(dp.dock_area)
                index :: dp.dock_area = items[index]
